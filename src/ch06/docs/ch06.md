- 변수 캡슐화 하기
    - 데이터는 참조하는 모든 부분을 한번에 바꿔야 코드가 제대로 동작함
    - 접근할 수 있는 범위가 넓은 데이터의 경우 그 데이터로의 접근을 독점하는
      함수를 만들어 캡슐화한다.
    - 레거시코드의 경우 이런 변수를 참조하는 코드를 추가하거나 변경할 때마다
      최대한 캡슐화하는것이 용이하다.
- 데이터의 사용 범위가 넓을수록 적절히 캡슐화해주는것이 좋다.
- 매개변수 객체 만들기
    - 데이터 항목 여러개가 일관적으로 몰려다니는 경우 해당 데이터를 데이터 구조 하나로 모아주면 사용하는데 용이하다.
    - 대상이되는 함수의 끝에 대상 객체를 추가해준다.
    - 내부 변수를 객체의 프로퍼티와 하나씩 매핑 -> 테스트를 반복하고 매핑이 끝나면
      사용되지 않는 매개변수는 하나씩 지우면서 마찬가지로 테스트를 반복하여 작업을 완료하도록 한다.
- 여러 함수를 클래스로 묶기
    - 이미 만들어진 함수들을 재구성 할때나 새로 만든 크래스와 관련하여 놓친 연산을 찾아서 새 클래스의 메서드로 뽑아내는데도 좋다.
    - 클래스로 묶는 경우 함수들이 공유하는 환경을 더 명확하게 표현할수있다.
    - 함수들이 공유하는 공통 레코드를 캡슐화한다.
    - 공통 레코드를 사용하는 함수를 새 클래스로 옮긴다.
    - 데이터를 조작하는 로직들은 함수로 추출하여 새 클래스로 옮긴다.

- 단계 쪼개기
  - 여러 단계로 분리하면 좋을만한 코드를 발견하면 단계 쪼개기 리팩토링을 실시하면 좋다.
    - 두 번째 단계에 해당하는 코드를 독립 함수로 추출한다.
    - 테스트
    - 중간 데이터 구조를 만들어서 앞에서 추출한 함수의 인수로 추가한다.
    - 테스트
    - 추출한 두번째 단계함수의 매개변수를 하나씩 검토한다. 그중 첫번쨰 단계에서 사용되는 것은 중간 데이터 구조로 옮긴다. 하나씩 옮길때마다 테스트한다.
    - 첫번째 단계 코드를 함수로 추출하면서 중간 데이터 구조를 반환하도록 한다.